@model IEnumerable<PortalDMPlace.Models.Campanha>
@{
    ViewData["Title"] = "Gerenciar Campanhas";
    Layout = "_LayoutAdmin";
}

<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-warning mb-0">🎯 Gerenciar Campanhas</h2>
        <a asp-action="CriarCampanha" class="btn btn-outline-warning">
            ➕ Nova Campanha
        </a>
    </div>

    @if (TempData["Sucesso"] != null)
    {
        <div class="alert alert-success border-0 shadow-sm">@TempData["Sucesso"]</div>
    }

    @if (!Model.Any())
    {
        <div class="alert alert-info text-center border-info">
            <i class="bi bi-info-circle me-2"></i> Nenhuma crônica cadastrada nos portais de Aetheria.
        </div>
    }
    else
    {
        <div class="table-responsive shadow">
            <table class="table table-dark table-hover align-middle border border-warning">
                <thead class="table-warning text-dark">
                    <tr>
                        <th style="width: 50px">ID</th>
                        <th>Nome da Campanha</th>
                        <th>Slug (URL)</th>
                        <th>Descrição Breve</th>
                        <th class="text-end">Ações de Mestre</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var c in Model)
                    {
                        <tr>
                            <td class="text-muted">@c.Id</td>
                            <td class="fw-bold text-warning">@c.Name</td>
                            <td><code>/@c.NomeSimples</code></td>
                            <td class="text-truncate" style="max-width: 300px;">@c.Description</td>
                            <td class="text-end">
                                <a asp-action="Configurar" asp-route-campanhaId="@c.Id" class="btn btn-sm btn-outline-info me-1" title="Configurações e Webhooks">
                                    ⚙️ Configs
                                </a>
                                
                                <a asp-action="EditarCampanha" asp-route-id="@c.Id" class="btn btn-sm btn-outline-light me-1">
                                    ✏️ Editar
                                </a>
                                
                                <a asp-action="DeletarCampanha" asp-route-id="@c.Id" class="btn btn-sm btn-outline-danger">
                                    🗑️ Deletar
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
</div>